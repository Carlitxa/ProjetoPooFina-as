<!-- P√°gina de edi√ß√£o de transa√ß√µes -->
<!-- Permite alterar os dados de uma transa√ß√£o existente -->

<!DOCTYPE html>
<html>
<head>
    <title>Editar Transa√ß√£o</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

<div class="navbar">
    <h2>Sistema Financeiro</h2>
    <span class="dark-toggle" onclick="toggleDark()">üåô</span>
</div>

<div class="page">
  <div class="card">
    <h2>‚úèÔ∏è Editar Transa√ß√£o</h2>

    <form method="post">
        <label>Descri√ß√£o</label>
        <input type="text" name="descricao" value="{{ transacao.descricao }}" required>

        <label>Valor</label>
        <input type="number" step="0.01" name="valor" value="{{ transacao.valor }}" required>

        <label>Categoria</label>
        <select name="categoria">
            {% for c in categorias %}
            <option value="{{ c.nome }}" {% if c.nome == transacao.categoria.nome %}selected{% endif %}>
                {{ c.nome }}
            </option>
            {% endfor %}
        </select>

        <label>Tipo</label>
        <select name="tipo">
            <option value="receita" {% if transacao.tipo == 'receita' %}selected{% endif %}>Receita</option>
            <option value="despesa" {% if transacao.tipo == 'despesa' %}selected{% endif %}>Despesa</option>
        </select>

        <br><br>
        <button class="btn btn-success">üíæ Guardar</button>
        <a href="/list_transactions" class="btn btn-secondary">Cancelar</a>
    </form>
  </div>
</div>

<script>
function toggleDark(){
    document.body.classList.toggle("dark");
    localStorage.setItem("darkMode",
      document.body.classList.contains("dark") ? "on" : "off");
}
window.onload=function(){
 if(localStorage.getItem("darkMode")==="on"){
   document.body.classList.add("dark");
 }
}
</script>

</body>
</html>
